(()=>{"use strict";async function t(t){const e=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${t}&APPID=28fe7b5f9a78838c639143fc517e4343`,{mode:"cors"});return await e.json()}function e(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function n(t){e(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===n?new Date(t.getTime()):"number"==typeof t||"[object Number]"===n?new Date(t):("string"!=typeof t&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function o(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function r(t,r){const c=function(t){return e(1,arguments),n(1e3*o(t))}(t+r).toUTCString();return c}function c(t){const e=t.split(" ")[4].split(":"),n=e[0]+":"+e[1];return e[0]<13?"00"===e[0]?"12:"+e[1]+" AM":e[0]<10?e[0].charAt(1)+":"+e[1]+" AM":n+" AM":e[0]-12+":"+e[1]+" PM"}function a(t){const e=document.querySelector(".futureContainer");e.textContent="",i(24,e);const n=Array.from(document.querySelectorAll(".cell"));n.forEach((e=>{!function(t,e,n){const o=n.children,a=c(r(e.hourly[t].dt,e.timezone_offset));o.item(0).textContent=a;const i=e.hourly[t].weather[0].icon,s=`http://openweathermap.org/img/wn/${i}@2x.png`;o.item(1).alt=i,o.item(1).src=s;const l=e.hourly[t].temp,u=String(l).split(".")[0];o.item(2).textContent=u+"°F";const d=e.hourly[t].pop,m=Math.round(d);o.item(3).textContent=m+"%"}(n.indexOf(e),t,e)}))}function i(t,e){for(let n=0;n<t;n++){const t=document.createElement("div");t.classList.add("cell");const n=document.createElement("div");n.classList.add("cellTxt");const o=document.createElement("img");o.classList.add("weatherIcon");const r=document.createElement("div");r.classList.add("cellTxt");const c=document.createElement("div");c.classList.add("cellTxt"),t.appendChild(n),t.appendChild(o),t.appendChild(r),t.appendChild(c),e.appendChild(t)}}let s="imperial",l="New+York,US";async function u(e,n){const o=await async function(e,n){const o=await t(e);return await async function(t,e,n){const o=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${t}&lon=${e}&exclude=minutely,alerts&units=${n}&appid=28fe7b5f9a78838c639143fc517e4343`);return await o.json()}(o.coord.lat,o.coord.lon,n)}(e,n),s=await t(e);(function(t,e){const n=document.querySelector(".city"),o=document.querySelector(".temp"),a=document.querySelector(".feelsLike"),i=document.querySelector(".humidity"),s=document.querySelector(".windSpeed"),l=document.querySelector(".weather"),u=document.querySelector(".date"),d=document.querySelector(".time"),m=document.querySelector(".pop"),p=document.querySelector(".weatherDesc"),y=document.querySelector(".sunrise"),f=document.querySelector(".sunset"),h=document.querySelector(".comp"),g=document.querySelector(".high"),S=document.querySelector(".low"),w=t.current,x=w.weather[0];console.log(t),function(t){const e=document.querySelector(".current"),n=t.id,o=parseInt(n.toString()[0]);2===o&&(e.style.backgroundImage="url(./resources/thunderstorm.png)"),3!==o&&5!==o||(e.style.backgroundImage="url(./resources/rainy.jpg)"),6===o&&(e.style.backgroundImage="url(./resources/snowy.jpg)"),800===n&&(e.style.backgroundImage="url(./resources/clear.jpg)"),801!==n&&802!==n||(e.style.backgroundImage="url(./resources/partly-cloudy.jpg)"),803!==n&&804!==n||(e.style.backgroundImage="url(./resources/cloudy.jpg)")}(x);const C=r(w.dt,t.timezone_offset),b=String(w.temp).split(".")[0],q=String(w.feels_like).split(".")[0];n.textContent=e,o.textContent=b+"°F",a.textContent=q+"°F",i.textContent=w.humidity+"%",s.textContent=w.wind_speed+" m/h",l.textContent=x.main,p.textContent="The weather is: "+x.description,u.textContent=function(t){const e=t.split(" ");let n=e[1];return n<10&&(n=n.charAt(1)),1===n.charAt(-1)&&(n+="st"),2===n.charAt(-1)&&(n+="nd"),3===n.charAt(-1)?n+="rd":n+="th",e[0]+" "+e[2]+" "+n+" "+e[3]}(C),d.textContent=c(C),m.textContent=t.daily[0].pop+"%",y.textContent=c(r(w.sunrise,t.timezone_offset)),f.textContent=c(r(w.sunset,t.timezone_offset)),h.textContent="Temperature tommorrow will be "+function(t){const e=t.daily[0].temp.day,n=t.daily[1].temp.day;return Math.abs(e-n)<=5?"similar to today":e>n?"colder than today":"warmer than today"}(t),g.textContent=String(t.daily[0].temp.max).split(".")[0],S.textContent=String(t.daily[0].temp.min).split(".")[0]})(o,s.name),a(o),p.addEventListener("click",(()=>{d(p),a(o)})),y.addEventListener("click",(()=>{d(y),function(t){const e=document.querySelector(".futureContainer");e.textContent="",i(7,e);const n=Array.from(document.querySelectorAll(".cell"));n.forEach((e=>{!function(t,e,n){const o=n.children,c=r(e.daily[t].dt,e.timezone_offset).split(",")[0];o.item(0).textContent=function(t){return"Sun"===t||"Mon"===t||"Fri"===t?t+"day":"Tue"===t?t+"sday":"Wed"===t?t+"nesday":"Thu"===t?t+"rsday":"Sat"===t?t+"urday":void 0}(c);const a=e.daily[t].weather[0].icon,i=`http://openweathermap.org/img/wn/${a}@2x.png`;o.item(1).alt=a,o.item(1).src=i;const s=e.daily[t].temp.max,l=e.daily[t].temp.min,u=String(s).split(".")[0],d=String(l).split(".")[0];o.item(2).textContent=d+" | "+u;const m=e.daily[t].pop,p=Math.round(m);o.item(3).textContent=p+"%"}(n.indexOf(e),t,e)}))}(o)}))}function d(t){p.classList.remove("active"),y.classList.remove("active"),t.classList.add("active")}const m=Array.from(document.querySelectorAll(".tab")),p=m[0],y=m[1];document.querySelector(".checkbox").addEventListener("change",(()=>{s="imperial"===s?"metric":"imperial",u(l,s)})),u(l,s)})();